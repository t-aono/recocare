http {

    server {
    #     listen 80;
        root /var/www/public;

    #     add_header X-Frame-Options "SAMEORIGIN";
    #     add_header X-XSS-Protection "1; mode=block";
    #     add_header X-Content-Type-Options "nosniff";

    #     index index.html index.htm index.php;

    #     charset utf-8;

        location / {
            # try to serve file directly, fallback to rewrite
            try_files $uri @rewriteapp;
        }

        location @rewriteapp {
            # rewrite all to index.php
            rewrite ^(.*)$ /index.php/$1 last;
        }

        location ~ ^/index\.php(/|$) {
            try_files @heroku-fcgi @heroku-fcgi;
            # ensure that /index.php isn't accessible directly, but only through a rewrite
            internal;
        }

}

}